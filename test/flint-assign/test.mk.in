.PHONY: all clean check

all: OUTPUT

check: DIFF

clean:
	-rm -f DIFF OUTPUT

OUTPUT: INPUT
	EXECUTABLE < $< > $@

DIFF: EXPECTED OUTPUT
	diff -u $^ > $@
